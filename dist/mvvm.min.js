/*!
 * mvvm.js v1.1.0
 * (c) 2016 TANG
 * Released under the MIT license
 * https://github.com/tangbc/sugar
 * Sun Jun 26 2016 13:02:40 GMT+0800 (CST)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MVVM=e():t.MVVM=e()}(this,function(){return function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function s(t,e,i){var s=this.context=i||this;n.each(e,function(t,i){n.isFunc(t)&&(e[i]=t.bind(s))}),this.backup=n.copy(e),this.vm=new a(t,e),this.$=this.vm.$data}var n=i(1),a=i(2),r=s.prototype;r.get=function(t){return n.isString(t)?this.$[t]:this.$},r.set=function(t,e){var i=this.$;n.isString(t)&&(i[t]=e),n.isObject(t)&&n.each(t,function(t,e){i[e]=t})},r.reset=function(t){var e=this.$,i=this.backup;n.isString(t)?e[t]=i[t]:n.isArray(t)?n.each(t,function(t){e[t]=i[t]}):n.each(e,function(t,s){e[s]=i[s]})},r.watch=function(t,e,i){this.vm.watcher.watchModel(t,function(t,i,s){e.call(this,t,i,s)},this.context,null,i)},t.exports=s},function(t,e){function i(t){return"[object Object]"===f.toString.call(t)}function s(t){return"[object Array]"===f.toString.call(t)}function n(t){return t instanceof Function}function a(t){return"string"==typeof t}function r(t){return"boolean"==typeof t}function o(t){return"number"==typeof t&&!isNaN(t)}function c(t){return t&&i(t)&&!t.nodeType&&t!==t.window?!t.constructor||v.call(t.constructor.prototype,"isPrototypeOf"):!1}function h(t){return 0===Object.keys(t).length}function l(){this.OP=f,this.AP=d,this.WIN=u,this.DOC=p,this.isBool=r,this.isFunc=n,this.isArray=s,this.isEmpty=h,this.isNumber=o,this.isObject=i,this.isString=a}var u=window,p=u.document,f=Object.prototype,d=Array.prototype,v=f.hasOwnProperty,m=l.prototype,g=u.console;m.warn=function(){g.warn.apply(g,arguments)},m.hasOwn=function(t,e){return t&&v.call(t,e)},m.def=function(t,e,i,s,n,a){return Object.defineProperty(t,e,{value:i,writable:!!s,enumerable:!!n,configurable:!!a})},m.defRec=function(t,e,i){return this.def(t,e,i,!0,!1,!0)},m.each=function(t,e,n){var r,o;if(t)if(n||(n=u),a(e)&&(e=n[e]),s(t))for(o=0;o<t.length&&(r=e.call(n,t[o],o,t),r!==!1);o++)null===r&&(t.splice(o,1),o--);else if(i(t))for(o in t)if(this.hasOwn(t,o)){if(r=e.call(n,t[o],o,t),r===!1)break;null===r&&delete t[o]}},m.extend=function(){var t,e,i,a,o,h,l=arguments[0]||{},u=1,p=arguments.length,f=!1;for(r(l)&&(f=l,l=arguments[u]||{},u++),"object"==typeof l||n(l)||(l={}),u===p&&(l=this,u--);p>u;u++)if(null!=(t=arguments[u]))for(e in t)i=l[e],a=t[e],l!==a&&(f&&a&&(c(a)||(o=s(a)))?(o?(o=!1,h=i&&s(i)?i:[]):h=i&&c(i)?i:{},l[e]=this.extend(f,h,a)):void 0!==a&&(l[e]=a));return l},m.copy=function(t){var e;return s(t)?e=t.slice(0):i(t)&&(e=this.extend(!0,{},t)),e},m.removeSpace=function(t){return t.replace(/\s/g,"")},m.getKeyValue=function(t,e){var i=t.split(":");return e?i:i.pop()},m.createElement=function(t){return p.createElement(t)},m.createFragment=function(){return p.createDocumentFragment()},m.nodeToFragment=function(t){for(var e,i=this.createFragment();e=t.firstChild;)i.appendChild(e);return i},m.stringToFragment=function(t){var e,i;return/<[^>]+>/g.test(t)?(e=this.createElement("div"),e.innerHTML=t,i=this.nodeToFragment(e)):(i=this.createFragment(),i.appendChild(p.createTextNode(t))),i},m.getExpAlias=function(t){var e=t.indexOf(".");return-1===e?t:t.substr(0,e)},m.getExpKey=function(t){var e=t.lastIndexOf(".");return-1===e?"":t.substr(e+1)},m.diff=function(t,e){return{n:this.getUnique(t,e),o:this.getUnique(e,t)}},m.getUnique=function(t,e){var n={};return this.each(t,function(t,a){var r,o=e[a];if(i(t))r=this.getUnique(t,o),h(r)||(n[a]=r);else if(s(t)){var c=[];this.each(t,function(t,e){var s;i(t)?(s=this.getUnique(t,o[e]),c.push(s)):-1===o.indexOf(t)&&c.push(t)},this),n[a]=c}else t!==o&&(n[a]=t)},this),n},m.makePaths=function(t){var e,i=t&&t.split("*");if(!i||i.length<2)return[];for(var s=i.length-1;s>-1;s--)if(this.isNumber(+i[s])){e=s+1;break}return i.slice(0,e)},m.getDeepValue=function(t,e){for(var i=e.slice(0);i.length;)t=t[i.shift()];return t},t.exports=new l},function(t,e,i){function s(t,e){return this.isElementNode(t)?a.isObject(e)?(this.$element=t,this.$fragment=a.nodeToFragment(this.$element),this.$data=e,a.defRec(e,"$els",{}),a.defRec(e,"$scope",{}),this.$unCompileNodes=[],this.$rootComplied=!1,this.updater=new r(this),this.watcher=new o(this.$data),this.von=new c(this),this.vel=new h(this),this.vif=new l(this),this.vfor=new u(this),this.vtext=new p(this),this.vhtml=new f(this),this.vshow=new d(this),this.vbind=new v(this),this.vmodel=new m(this),this.$inputs="input|select|textarea".split("|"),void this.init()):a.warn("model must be a type of Object: ",e):a.warn("element must be a type of DOMElement: ",t)}var n=i(3),a=i(1),r=i(4),o=i(5),c=i(7),h=i(9),l=i(10),u=i(11),p=i(12),f=i(13),d=i(14),v=i(15),m=i(18),g=s.prototype;g.init=function(){this.complieElement(this.$fragment,!0)},g.complieElement=function(t,e,i){var s,n=t.childNodes;e&&this.hasDirective(t)&&this.$unCompileNodes.push([t,i]);for(var a=0;a<n.length;a++)s=n[a],this.hasDirective(s)&&this.$unCompileNodes.push([s,i]),s.childNodes.length&&!this.isLateCompile(s)&&this.complieElement(s,!1,i);e&&this.compileAll()},g.hasDirective=function(t){var e,i=t.textContent,s=/(\{\{.*\}\})|(\{\{\{.*\}\}\})/;if(this.isElementNode(t)){e=t.attributes;for(var n=0;n<e.length;n++)if(this.isDirective(e[n].name))return!0}else if(this.isTextNode(t)&&s.test(i))return!0},g.compileAll=function(){a.each(this.$unCompileNodes,function(t){return this.complieDirectives(t),null},this),this.checkCompleted()},g.complieDirectives=function(t){var e,i,s,n,r=t[0],o=t[1],c=[];if(this.isElementNode(r)){n=r.attributes;for(var h=0;h<n.length;h++)e=n[h],i=e.name,this.isDirective(i)&&("v-for"===i&&(s=e),c.push(e));s&&(a.def(r,"_vfor_directives",c.length),c=[s],s=null),a.each(c,function(t){this.compile(r,t,o)},this)}else this.isTextNode(r)&&this.compileText(r,o)},g.compile=function(t,e,i){var s=e.name,r=e.value,o=[i,t,r,s];if(n.removeAttr(t,s),0===s.indexOf("v-bind"))this.vbind.parse.apply(this.vbind,o);else if(0===s.indexOf("v-on"))this.von.parse.apply(this.von,o);else switch(s){case"v-el":this.vel.parse.apply(this.vel,o);break;case"v-text":this.vtext.parse.apply(this.vtext,o);break;case"v-html":this.vhtml.parse.apply(this.vhtml,o);break;case"v-show":this.vshow.parse.apply(this.vshow,o);break;case"v-if":this.vif.parse.apply(this.vif,o);break;case"v-else":a.def(t,"_directive","v-else");break;case"v-model":this.vmodel.parse.apply(this.vmodel,o);break;case"v-for":this.vfor.parse.apply(this.vfor,o);break;case"v-pre":break;default:a.warn(s+" is an unknown directive!")}},g.compileText=function(t,e){var i,s,n,r,o=[],c=t.textContent.trim().replace(/\n/g,""),h=/\{\{(.+?)\}\}/g,l=/\{\{\{(.+?)\}\}\}/g,u=h.test(c),p=l.test(c);if(p){if(n=c.match(l),s=n[0],i=s.replace(/\s\{|\{|\{|\}|\}|\}/g,""),s.length!==c.length)return a.warn("'"+c+"' compile for HTML can not have a prefix or suffix!");this.vhtml.parse.call(this.vhtml,e,t,i)}else u&&(r=c.split(h),n=c.match(h),a.each(r,function(t){-1!==n.indexOf("{{"+t+"}}")?o.push("("+t+")"):t&&o.push('"'+t+'"')}),this.vtext.parse.call(this.vtext,e,t,o.join("+")))},g.blockCompile=function(t){a.each(this.$unCompileNodes,function(e){return t===e[0]?null:void 0})},g.isElementNode=function(t){return 1===t.nodeType},g.isTextNode=function(t){return 3===t.nodeType},g.isDirective=function(t){return 0===t.indexOf("v-")},g.isLateCompile=function(t){return n.hasAttr(t,"v-if")||n.hasAttr(t,"v-for")||n.hasAttr(t,"v-pre")},g.checkCompleted=function(){0!==this.$unCompileNodes.length||this.$rootComplied||this.rootCompleted()},g.rootCompleted=function(){this.$rootComplied=!0,this.$element.appendChild(this.$fragment)},t.exports=s},function(t,e){t.exports={empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},setAttr:function(t,e,i){"boolean"==typeof i?t[e]=i:i!==this.getAttr(t,e)&&t.setAttribute(e,i)},getAttr:function(t,e){return t.getAttribute(e)||""},hasAttr:function(t,e){return t.hasAttribute(e)},removeAttr:function(t,e){t.removeAttribute(e)},addClass:function(t,e){var i,s=t.classList;this.hasClass(t,e)||(s?s.add(e):(i=" "+this.getAttr(t,"class")+" ",-1===i.indexOf(" "+e+" ")&&this.setAttr(t,"class",(i+e).trim())))},removeClass:function(t,e){var i,s,n=t.classList;if(this.hasClass(t,e)){if(n)n.remove(e);else{for(s=" "+e+" ",i=" "+this.getAttr(t,"class")+" ";-1!==i.indexOf(s);)i=i.replace(s," ");this.setAttr(t,"class",i.trim())}t.className||this.removeAttr(t,"class")}},hasClass:function(t,e){var i,s=t.classList;return s?s.contains(e):(i=" "+this.getAttr(t,"class")+" ",-1!==i.indexOf(" "+e+" "))},addEvent:function(t,e,i,s){t.addEventListener(e,i,s)},removeEvent:function(t,e,i,s){t.removeEventListener(e,i,s)}}},function(t,e,i){function s(t,e){for(var i,n,a,o=t.$data.$els,c=e.childNodes,h=0;h<c.length;h++)if(i=c[h],t.isElementNode(i)){a=i.attributes;for(var l=0;l<a.length;l++)n=a[l],"v-el"===n.name&&r.hasOwn(o,n.value)&&(o[n.value]=null);i.childNodes.length&&s(t,i)}}function n(t){this.vm=t,this.$listeners={}}var a=i(3),r=i(1),o=n.prototype;o.updateTextContent=function(t,e){t.textContent=String(e)},o.updateHtmlContent=function(t,e){a.empty(t).appendChild(r.stringToFragment(String(e)))},o.updateDisplay=function(t,e){var i=this.getSibling(t);this.setVisible(t),this.updateStyle(t,"display",e?t._visible_display:"none"),i&&(a.hasAttr(i,"v-else")||"v-else"===i._directive)&&(this.setVisible(i),this.updateStyle(i,"display",e?"none":i._visible_display))},o.setVisible=function(t){var e,i,s;t._visible_display||(e=r.removeSpace(a.getAttr(t,"style")),e&&-1!==e.indexOf("display")&&(i=e.split(";"),r.each(i,function(t){-1!==t.indexOf("display")&&(s=r.getKeyValue(t))})),"none"!==s&&(t._visible_display=s||""))},o.updateRenderContent=function(t,e){var i=this.getSibling(t);this.setRender(t),this.toggleRender.apply(this,arguments),i&&(a.hasAttr(i,"v-else")||"v-else"===i._directive)&&(this.setRender(i),this.toggleRender(i,!e))},o.setRender=function(t){t._render_content||(t._render_content=t.innerHTML),a.empty(t)},o.toggleRender=function(t,e){var i=this.vm,n=r.stringToFragment(t._render_content);e?(i.complieElement(n,!0),t.appendChild(n)):s(i,n)},o.getSibling=function(t){var e=t.nextSibling,i=this.vm.isElementNode;if(e&&i(e))return e;for(;e;)if(e=e.nextSibling,e&&i(e))return e;return null},o.updateAttribute=function(t,e,i){null===i?a.removeAttr.apply(this,arguments):"value"===e?t.value=i:a.setAttr(t,e,i)},o.updateClassName=function(t,e,i,s){s?e===!0?a.addClass(t,s):e===!1&&a.removeClass(t,s):(e&&a.addClass(t,e),i&&a.removeClass(t,i))},o.updateStyle=function(t,e,i){t.style[e]!==i&&(t.style[e]=i)},o.updateEvent=function(t,e,i,s,n){n?a.removeEvent(t,e,i,s):a.addEvent(t,e,i,s)},o.updateTextValue=function(t,e){t.value!==e&&(t.value=e)},o.updateRadioChecked=function(t,e){t.checked=t.value===(r.isNumber(e)?String(e):e)},o.updateCheckboxChecked=function(t,e){var i=t.value;return r.isArray(e)||r.isBool(e)?(a.hasAttr(t,"number")&&(i=+i),void(t.checked=r.isBool(e)?e:-1!==e.indexOf(i))):r.warn("checkbox v-model value must be a type of Boolean or Array!")},o.updateSelectChecked=function(t,e,i){var s,n,r,o=a.hasAttr(t,"number"),c=t.options,h=c.length,l=i||a.hasAttr(t,"multiple");for(s=0;h>s;s++)n=c[s],r=n.value,r=o?+r:a.hasAttr(n,"number")?+r:r,n.selected=l?-1!==e.indexOf(r):e===r},t.exports=n},function(t,e,i){function s(t){this.$model=t,this.$modelSubs={},this.$accessSubs={},this.$indexSubs={},this.$deepSubs={},this.observer=new a(t,"change",this)}var n=i(1),a=i(6),r=s.prototype;r.change=function(t,e,i,s){var n,a=-1!==t.indexOf("*"),r=a?this.$accessSubs[t]:this.$modelSubs[t];this.trigger(r,t,e,i,s),a&&(n=t.split("*").shift(),this.trigger(this.$deepSubs[n],t,e,i,s))},r.trigger=function(t,e,i,s,a){n.each(t,function(t){t.cb.call(t.ct,e,i,s,a||t.arg)})},r.watch=function(t,e,i,s){var a=t.dep,r=t.acc;n.each(a,function(t,a){var o=r[a];if("$event"!==t)return-1!==t.indexOf("$index")?void this.watchIndex(o,e,i,s):o?void this.watchAccess(o,e,i,s):void this.watchModel(n.getExpAlias(t),e,i,s)},this)},r.watchModel=function(t,e,i,s,a){return n.hasOwn(this.$model,t)?-1!==t.indexOf("*")?n.warn('Model key cannot contain the character "*"!'):(this.addSubs(this.$modelSubs,t,e,i,s),void(a&&this.addSubs(this.$deepSubs,t,e,i,s))):n.warn('The field: "'+t+'" does not exist in model!')},r.watchAccess=function(t,e,i,s){this.addSubs(this.$accessSubs,t,e,i,s)},r.watchIndex=function(t,e,i,s){this.addSubs(this.$indexSubs,t,e,i,s)},r.addSubs=function(t,e,i,s,n){t[e]||(t[e]=[]),t[e].push({cb:i,ct:s,arg:n})},r.removeSubs=function(t){n.each(this.$indexSubs,function(e,i){return 0===i.indexOf(t)?null:void 0}),n.each(this.$accessSubs,function(e,i){return 0===i.indexOf(t)?null:void 0})},r.moveSubs=function(t,e,i){var s=t+"*";this.moveIndex(s,e),this.moveAccess(s,e)},r.moveIndex=function(t,e){var i={},s=this.$indexSubs,a=n.copy(s);n.each(e,function(e,n){var r,o=t+n,c=t+e;i[o]=a[c],e===r&&(s[o]=r)}),n.each(i,function(e,i){var s=+i.substr(t.length);n.each(e,function(t){t.cb.call(t.ct,"$index",s,t.arg)})}),n.extend(s,i),i=a=null},r.moveAccess=function(t,e){var i={},s=this.$accessSubs,a=n.copy(s);n.each(e,function(e,r){var o,c=[],h=[],l=t+r,u=t+e;n.each(s,function(t,i){e===o&&0===i.indexOf(l)?(h.push(o),c.push(i)):0===i.indexOf(u)&&(h.push(i),c.push(i.replace(u,l)))}),n.each(c,function(t,e){var n=h[e];n===o?s[t]=o:i[t]=a[n]})}),n.extend(s,i),i=a=null},t.exports=s},function(t,e,i){function s(t,e,i,s){n.isString(e)&&(e=i[e]),this.$args=s,this.$context=i,this.$callback=e,this.$subPaths=[],this.$action=921,this.$methods="push|pop|shift|unshift|splice|sort|reverse".split("|"),this.observe(t)}var n=i(1),a=s.prototype;a.observe=function(t,e){return n.isArray(t)&&this.rewriteMethods(t,e),n.each(t,function(i,s){var n=e&&e.slice(0);n?n.push(s):n=[s],this.bindWatch(t,n,i)},this),this},a.bindWatch=function(t,e,i){var s=e.join("*"),a=e[e.length-1],r=Object.getOwnPropertyDescriptor(t,a),o=r.get,c=r.set;Object.defineProperty(t,a,{get:function(){return o?o.call(t):i}.bind(this),set:function(r,h){var l,u,p,f=o?o.call(t):i,d=-1!==this.$methods.indexOf(this.$action);r!==f&&(d||!n.isArray(r)&&!n.isObject(r)||this.observe(r,e),l=this.getSubPath(s),l&&(u=t[a]),c?c.call(t,r,!0):i=r,d||h||(p=l?[l,t[a],u]:[s,r,f],this.trigger.apply(this,p)))}.bind(this)});var h=t[a],l=n.isObject(h);(n.isArray(h)||l)&&this.observe(h,e),l&&-1===this.$subPaths.indexOf(s)&&!n.isNumber(+s.split("*").pop())&&this.$subPaths.push(s)},a.getSubPath=function(t){for(var e=this.$subPaths,i=0;i<e.length;i++)if(0===t.indexOf(e[i]))return e[i]},a.rewriteMethods=function(t,e){var i=n.AP,s=Object.create(i),a=e&&e.join("*");n.each(this.$methods,function(t){var r=this,o=i[t];n.defRec(s,t,function(){for(var i,s=arguments.length,n=new Array(s);s--;)n[s]=arguments[s];return r.$action=t,i=o.apply(this,n),r.$action=921,r.observe(this,e),r.trigger(a,this,t,n),i})},this),n.defRec(s,"$set",function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}),n.defRec(s,"$remove",function(t){var e=this.indexOf(t);return-1!==e?this.splice(e,1):void 0}),t.__proto__=s},a.trigger=function(t,e,i,s){this.$callback.apply(this.$context,[t,e,i,s||this.$args])},t.exports=s},function(t,e,i){function s(t){var e,i,s=o.removeSpace(t),n=s.match(/(\(.*\))/),a=n&&n[0];return a?(i=s.substr(0,s.indexOf(a)),e="["+a.substr(1,a.length-2)+"]"):i=s,{func:i,args:e}}function n(t){var e,i,s=t.trim(),n=s.length;return/^\{.*\}$/.test(s)&&(e={},s=s.substr(1,n-2).replace(/\s/g,""),i=s.match(/[^,]+:[^:]+((?=,[^:]+:)|$)/g),o.each(i,function(t){var i=o.getKeyValue(t,!0),s=i[0],n=i[1];s&&n&&(s=s.replace(/(^'*)|('*$)|(^"*)|("*$)/g,""),e[s]=n)})),e}function a(t){this.vm=t,this.$listeners={},r.call(this)}var r=i(8),o=i(1),c=a.prototype=Object.create(r.prototype);c.parse=function(t,e,i,s){-1!==s.indexOf(":")?this.parseSingle.apply(this,arguments):this.parseJson.apply(this,arguments)},c.parseSingle=function(t,e,i,n){var a=s(i),r=o.getKeyValue(n),c=a.func,h=a.args,l=this.getDeps(t,c),u=this.getScope(t,c),p=this.getEval(t,c),f=p.call(u,u);this.bindEvent(t,e,c,r,f,h),this.vm.watcher.watch(l,function(i,s,n){this.update(e,r,this.$listeners[i],!1,!0),this.bindEvent(t,e,i,r,s,h)},this)},c.parseJson=function(t,e,i){o.each(n(i),function(i,s){this.parseSingle(t,e,i,s)},this)},c.bindEvent=function(t,e,i,s,n,a){var r,c,h,l,u,p=this.$listeners,f=t&&t.access||i,d=!1;if(o.isFunc(n)){-1!==s.indexOf(".")&&(r=s.split("."),s=r.shift(),c=r&&-1!==r.indexOf("self"),h=r&&-1!==r.indexOf("stop"),l=r&&-1!==r.indexOf("prevent"),d=r&&-1!==r.indexOf("capture"),u=0===s.indexOf("key")?+r[0]:null);var v,m,g,b,y=[];a&&(v=this.getDeps(t,a),m=t&&o.copy(t.maps),g=this.getScope(t,a),o.defRec(g,"$event","$event"),b=this.getEval(t,a),y=b.call(g,g),this.vm.watcher.watch(v,function(){g=this.updateScope(g,m,v,arguments),y=b.call(g,g)},this));var x=function(t){c&&t.target!==e||u&&u!==t.keyCode||(y.length?o.each(y,function(e,i){("$event"===e||e instanceof Event)&&(y[i]=t)}):y.push(t),h&&t.stopPropagation(),l&&t.preventDefault(),n.apply(this,y))};p[f]=x,this.update(e,s,x,d)}},c.update=function(){var t=this.vm.updater;t.updateEvent.apply(t,arguments)},t.exports=a},function(t,e,i){function s(t){return y.test(t)&&!m.test(t)&&0!==t.indexOf("Math.")}function n(t){var e=x.length;return x[e]=t,'"'+e+'"'}function a(t,e){return x[e]}function r(t){var e=t.charAt(0),i=t.slice(1);return p.test(i)?t:(i=-1!==i.indexOf('"')?i.replace(v,a):i,e+"scope."+i)}function o(t,e){var i,s=e;return-1!==s.indexOf(t.alias)?t.alias:(l.each(t.aliases,function(t){return new RegExp("\\b"+t+"\\b|\\b"+t+"\\.").test(s)?(i=t,!1):void 0}),i)}function c(t){var e=0,i=[];if(t.length%2===0)for(;e<t.length;)e+=2,i.push(t.slice(0,e));return i}function h(){}var l=i(1),u="Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",p=new RegExp("^("+u.replace(/\./g,"\\b|")+"\\b)"),f="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",d=new RegExp("^("+f.replace(/\./g,"\\b|")+"\\b)"),v=/"(\d+)"/g,m=/^(true|false)$/,g=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,b=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,y=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,x=[],w=h.prototype;w.bind=function(t,e,i){var s=this.getDeps(t,i),n=this.getScope(t,i),a=this.getEval(t,i),r=t&&l.copy(t.maps);this.update(e,a.call(n,n)),this.vm.watcher.watch(s,function(){n=this.updateScope(n,r,s,arguments),this.update(e,a.call(n,n))},this)},w.createGetter=function(t){try{return new Function("scope","return "+t+";")}catch(e){throw"Invalid generated expression: "+t}},w.getEval=function(t,e){var i=this.toScope(e);return d.test(i)?l.warn("Avoid using unallow keyword in expression: "+i):(t&&l.each(t.aliases,function(t){var e=new RegExp("scope."+t,"g");i=i.replace(e,function(t){return"scope.$"+t})}),this.createGetter(i))},w.toScope=function(t){var e=t;return s(e)?"scope."+e:(e=(" "+e).replace(g,n),e=e.replace(b,r),e=e.replace(v,a))},w.getModel=function(){return this.vm.$data},w.getScope=function(t,e){var i=this.getModel();return t&&(l.defRec(i,"$index",t.index),l.defRec(i,"$scope",t.scopes)),i},w.updateScope=function(t,e,i,s){var n,a=0,r={},o=this.getModel(),h=l.copy(i.acc);return h.unshift(s[0]),l.each(h,function(t){var e=l.makePaths(t);e.length>a&&(n=e,a=e.length)}),n&&(l.each(c(n),function(t){var i=t.length;"$index"===s[0]&&(t[i-1]=s[1]);var n=t[i-2],a=+t[i-1],c=l.getDeepValue(o,t)||{};l.defRec(o,"$index",a),r[e[n]]=c}),l.defRec(o,"$scope",l.extend(t.$scope,r))),o},w.getDeps=function(t,e){var i=[],s=[],a=" "+e.replace(g,n),r=a.match(b);return l.each(r,function(e){var n,a,r,c,h=e.substr(1);t?(n=o(t,e),a=-1!==h.indexOf("$index"),(-1!==h.indexOf(n)||a)&&(r=t.accesses[t.aliases.indexOf(n)])):n=l.getExpAlias(h),a||h===n?c=r||t&&t.access:r&&"$event"!==h&&(c=r+"*"+l.getExpKey(h)),-1===i.indexOf(h)&&(i.push(h),s.push(c))}),{dep:i,acc:s}},t.exports=h},function(t,e,i){function s(t){this.vm=t,n.call(this)}var n=i(8),a=i(1),r=s.prototype=Object.create(n.prototype);r.parse=function(t,e,i){var s,n,r;if(t){if(n=a.getExpAlias(i),n!==t.alias)return a.warn("when v-el use in v-for must be defined inside current loop body!");r=t.scopes[n],a.isObject(r)&&(s=a.getExpKey(i),r[s]=e)}else this.vm.$data.$els[i]=e},t.exports=s},function(t,e,i){function s(t){this.vm=t,n.call(this)}var n=i(8),a=s.prototype=Object.create(n.prototype);a.parse=function(){this.bind.apply(this,arguments)},a.update=function(){var t=this.vm.updater;t.updateRenderContent.apply(t,arguments)},t.exports=s},function(t,e,i){function s(t){this.vm=t,n.call(this)}var n=i(8),a=i(1),r=s.prototype=Object.create(n.prototype);r.parse=function(t,e,i){var s,n,r,o=this.vm,c=i.match(/(.*) in (.*)/),h=c[1],l=c[2],u=o.watcher,p=e.parentNode,f="OPTION"===e.tagName&&"SELECT"===p.tagName,d=this.getScope(t,l),v=this.getEval(t,l),m=v.call(d,d),g=l,b=a.getExpKey(l),y=-1,x={},w={},$=[],S=[];return t&&(w=t.maps,y=t.level,x=t.scopes,$=t.aliases.slice(0),S=t.accesses.slice(0),g=t.access+"*"+b),a.isArray(m)?(s=[e,m,0,g,h,$,S,x,w,++y],n=this.buildList.apply(this,s),e.parentNode.replaceChild(n,e),f&&this.updateOption(p,t),r={alias:h,aliases:$,access:g,accesses:S,scopes:x,level:y,maps:w},void(t?u.watchAccess(g,function(t,i,s,n){this.update(p,e,i,s,r,n)},this):u.watchModel(g,function(t,i,s,n){this.update(p,e,i,s,r,n)},this))):void p.removeChild(e)},r.updateOption=function(t,e){var i=t._vmodel,s=this.getEval(e,i),n=this.getScope(e,i),a=s.call(n,n);this.vm.updater.updateSelectChecked(t,a)},r.buildList=function(t,e,i,s,n,r,o,c,h,l){var u=this.vm,p=a.createFragment();return a.each(e,function(e,a){var f,d=i+a,v=s.split("*").pop(),m=t.cloneNode(!0),g=s+"*"+d;c[n]=e,r[l]=n,o[l]=g,h[v]=n,f={alias:n,aliases:r,access:g,accesses:o,scopes:c,maps:h,level:l,index:d},t._vfor_directives>1&&u.blockCompile(t),this.signAlias(m,n),u.complieElement(m,!0,f),p.appendChild(m)},this),p},r.signAlias=function(t,e){a.def(t,"_vfor_alias",e)},r.update=function(t,e,i,s,n,a){switch(s){case"push":this.push.apply(this,arguments);break;case"pop":this.pop.apply(this,arguments);break;case"unshift":this.unshift.apply(this,arguments);break;case"shift":this.shift.apply(this,arguments);break;case"splice":this.splice.apply(this,arguments);break;default:this.recompile.apply(this,arguments)}},r.getChanges=function(t,e){var i,s,n={};switch(t){case"unshift":for(n[0]=s,i=1;e>i;i++)n[i]=i-1;break;case"shift":for(i=0;e+1>i;i++)n[i]=i+1;n[e]=s}return n},r.push=function(t,e,i,s,n){var a=i.length-1,r=n.alias,o=[i[a]],c=[e,o,a,n.access,r,n.aliases,n.accesses,n.scopes,n.maps,n.level],h=this.getLast(t,r),l=this.buildList.apply(this,c);h?t.insertBefore(l,h.nextSibling):t.appendChild(l)},r.pop=function(t,e,i,s,n){var a=this.getLast(t,n.alias);a&&t.removeChild(a)},r.unshift=function(t,e,i,s,n){var a,r,o,c=n.alias,h=[i[0]],l=[e,h,0,n.access,c,n.aliases,n.accesses,n.scopes,n.maps,n.level];a=this.getChanges(s,i.length),this.vm.watcher.moveSubs(n.access,a),r=this.buildList.apply(this,l),o=this.getFirst(t,c),t.insertBefore(r,o)},r.shift=function(t,e,i,s,n){var a=this.getChanges(s,i.length),r=this.getFirst(t,n.alias);r&&(t.removeChild(r),this.vm.watcher.moveSubs(n.access,a))},r.splice=function(t,e,i,s,n,r){var o=r.shift(),c=r.shift(),h=r,l=r.length;if(0!==c||l){var u,p,f,d,v,m={},g=n.alias,b=i.length,y=c&&!l,x=!c&&l,w=c&&l;if(y){for(u=0;b>u;u++)m[u]=u>=o?u+c:u;if(a.isEmpty(m))return void this.recompile.apply(this,arguments);this.vm.watcher.moveSubs(n.access,m),this.removeEl(t,g,o,c)}else if(x||w){for(u=0;b>u;u++)x?m[u]=o>u?u:u>=o&&o+l>u?v:u-l:w&&(m[u]=o>u?u:u>=o&&o+l>u?v:u-(l-c));if(a.isEmpty(m)||0===o&&c>b)return void this.recompile.apply(this,arguments);this.vm.watcher.moveSubs(n.access,m),w&&this.removeEl(t,g,o,c),f=this.getChild(t,g,o),d=[e,h,o,n.access,g,n.aliases,n.accesses,n.scopes,n.maps,n.level],p=this.buildList.apply(this,d),t.insertBefore(p,f)}}},r.getFirst=function(t,e){var i,s,n=null,a=t.childNodes;for(i=0;i<a.length;i++)if(s=a[i],s._vfor_alias===e){n=s;break}return n},r.getLast=function(t,e){var i,s,n=null,a=t.childNodes;for(i=a.length-1;i>-1;i--)if(s=a[i],s._vfor_alias===e){n=s;break}return n},r.getChild=function(t,e,i){var s,n,a=0,r=null,o=t.childNodes;for(s=0;s<o.length;s++)if(n=o[s],n._vfor_alias===e){if(a===i){r=n;break}a++}return r},r.removeEl=function(t,e,i,s){var n,r,o=t.childNodes,c=-1,h=[];for(n=0;n<o.length;n++)r=o[n],r._vfor_alias===e&&c++,c>=i&&i+s>c&&h.push(r);a.each(h,function(e){return t.removeChild(e),null})},r.recompile=function(t,e,i,s,n){var a,r,o,c=n.alias,h=t.childNodes,l=[e,i,0,n.access,c,n.aliases,n.accesses,n.scopes,n.maps,n.level];this.vm.watcher.removeSubs(n.access),o=this.buildList.apply(this,l);for(var u=0;u<h.length;u++)a=h[u],a._vfor_alias===c&&(r?(u--,t.removeChild(a)):r=a);r?t.replaceChild(o,r):t.appendChild(o)},t.exports=s},function(t,e,i){function s(t){this.vm=t,n.call(this)}var n=i(8),a=s.prototype=Object.create(n.prototype);a.parse=function(){this.bind.apply(this,arguments)},a.update=function(){var t=this.vm.updater;t.updateTextContent.apply(t,arguments)},t.exports=s},function(t,e,i){function s(t){this.vm=t,n.call(this)}var n=i(8),a=s.prototype=Object.create(n.prototype);a.parse=function(t,e,i){this.bind.apply(this,[t,this.vm.isTextNode(e)?e.parentNode:e,i])},a.update=function(){var t=this.vm.updater;t.updateHtmlContent.apply(t,arguments)},t.exports=s},function(t,e,i){function s(t){this.vm=t,n.call(this)}var n=i(8),a=s.prototype=Object.create(n.prototype);a.parse=function(){this.bind.apply(this,arguments)},a.update=function(){var t=this.vm.updater;t.updateDisplay.apply(t,arguments)},t.exports=s},function(t,e,i){function s(t){this.vm=t,this.vclass=new r(t),this.vstyle=new o(t),n.call(this)}var n=i(8),a=i(1),r=i(16),o=i(17),c=s.prototype=Object.create(n.prototype);c.parse=function(t,e,i,s){var n,r=this.vclass,o=this.vstyle;if(-1!==s.indexOf(":"))switch(n=a.getKeyValue(s)){case"class":r.parse.apply(r,arguments);break;case"style":o.parse.apply(o,arguments);break;default:this.parseAttr(t,e,i,n)}else this.parseJson.apply(this,arguments)},c.parseJson=function(t,e,i){var s=this.getDeps(t,i),n=this.getScope(t,i),r=this.getEval(t,i),o=a.copy(r.call(n,n)),c=t&&a.copy(t.maps);this.updateJson(e,o),this.vm.watcher.watch(s,function(t,i,h){var l,u;n=this.updateScope(n,c,s,arguments),u=r.call(n,n),l=a.diff(u,o),this.updateJson(e,l.o,!0),this.updateJson(e,l.n),o=a.copy(u)},this)},c.updateJson=function(t,e,i){var s=this.vclass,n=this.vstyle;a.each(e,function(e,a){switch(a){case"class":s.updateClass(t,e,i);break;case"style":n.updateStyle(t,e,i);break;default:this.update(t,a,e)}},this)},c.parseAttr=function(t,e,i,s){var n=this.getDeps(t,i),r=this.getScope(t,i),o=this.getEval(t,i),c=t&&a.copy(t.maps);this.update(e,s,o.call(r,r)),this.vm.watcher.watch(n,function(){r=this.updateScope(r,c,n,arguments),this.update(e,s,o.call(r,r))},this)},c.update=function(){var t=this.vm.updater;t.updateAttribute.apply(t,arguments)},t.exports=s},function(t,e,i){function s(t){this.vm=t,n.call(this)}var n=i(8),a=i(1),r=s.prototype=Object.create(n.prototype);r.parse=function(t,e,i){var s=this.getDeps(t,i),n=this.getScope(t,i),r=this.getEval(t,i),o=t&&a.copy(t.maps),c=r.call(n,n);this.updateClass(e,c),this.vm.watcher.watch(s,function(t,i,h){n=this.updateScope(n,o,s,arguments),a.isArray(c)&&(c=[h]),this.updateClass(e,c,!0),c=r.call(n,n),this.updateClass(e,c)},this)},r.updateClass=function(t,e,i){a.isString(e)?this.update(t,i?null:e,i?e:null):a.isArray(e)?a.each(e,function(e){this.update(t,i?null:e,i?e:null)},this):a.isObject(e)&&a.each(e,function(e,s){this.update(t,i?!1:e,!1,s)},this)},r.update=function(){var t=this.vm.updater;t.updateClassName.apply(t,arguments)},t.exports=s},function(t,e,i){function s(t){this.vm=t,n.call(this)}var n=i(8),a=i(1),r=s.prototype=Object.create(n.prototype);r.parse=function(t,e,i){var s=this.getDeps(t,i),n=this.getScope(t,i),r=this.getEval(t,i),o=t&&a.copy(t.maps),c=r.call(n,n);this.updateStyle(e,c),this.vm.watcher.watch(s,function(t,i,c){a.isObject(c)?(a.each(c,function(t,e){c[e]=null}),this.updateStyle(e,a.extend(i,c))):(n=this.updateScope(n,o,s,arguments),this.updateStyle(e,r.call(n,n)))},this)},r.updateStyle=function(t,e,i){return a.isObject(e)?void a.each(e,function(e,s){this.update(t,s,i?null:e)},this):a.warn("v-bind for style must be a type of Object!",e)},r.update=function(){var t=this.vm.updater;t.updateStyle.apply(t,arguments)},t.exports=s},function(t,e,i){function s(t,e){return o.hasAttr(t,"number")?+e:e}function n(t){var e,i,n,a=t.options,r=o.hasAttr(t,"number"),c=a.length,h=[];for(e=0;c>e;e++)i=a[e],n=i.value,i.selected&&h.push(r?+n:s(i,n));return h}function a(t){this.vm=t,r.call(this)}var r=i(8),o=i(3),c=i(1),h=a.prototype=Object.create(r.prototype);h.parse=function(t,e,i){var s=this.vm,n=s.$inputs,a=e.tagName.toLowerCase(),r="input"===a?o.getAttr(e,"type"):a;if(-1===n.indexOf(a))return c.warn("v-model only for using in "+n.join(", "));c.def(e,"_vmodel",i);var h=this.getDeps(t,i),l=this.getScope(t,i),u=this.getEval(t,i),p=c.makePaths(h.acc[0]||h.dep[0]),f=c.getDeepValue(this.vm.$data,p),d=u.call(l,l),v=c.getExpKey(i)||i,m=[e,d,h,f,v];switch(r){case"text":case"password":case"textarea":this.parseText.apply(this,m);break;case"radio":this.parseRadio.apply(this,m);break;case"checkbox":this.parseCheckbox.apply(this,m);break;case"select":this.parseSelect.apply(this,m)}},h.parseText=function(t,e,i,s,n){var a=this.vm,r=a.updater;r.updateTextValue(t,e),a.watcher.watch(i,function(e,i){r.updateTextValue(t,i)},this),this.bindTextEvent(t,s,n)},h.bindTextEvent=function(t,e,i){var s;o.addEvent(t,"compositionstart",function(){s=!0}),o.addEvent(t,"compositionend",function(){s=!1}),o.addEvent(t,"input",function(){s||(e[i]=this.value)}),o.addEvent(t,"change",function(){e[i]=this.value})},h.parseRadio=function(t,e,i,n,a){var r=this.vm,c=r.updater;o.hasAttr(t,"checked")&&(n[a]=e=s(t,t.value)),c.updateRadioChecked(t,e),r.watcher.watch(i,function(e,i){c.updateRadioChecked(t,i)},this),this.bindRadioEvent(t,n,a)},h.bindRadioEvent=function(t,e,i){o.addEvent(t,"change",function(){e[i]=s(this,this.value)})},h.parseCheckbox=function(t,e,i,n,a){var r=this.vm,h=r.updater;o.hasAttr(t,"checked")&&(c.isBool(e)?n[a]=e=!0:c.isArray(e)&&e.push(s(t,t.value))),h.updateCheckboxChecked(t,e),r.watcher.watch(i,function(e,i){h.updateCheckboxChecked(t,i)},this),this.bindCheckboxEvent(t,n,a,e)},h.bindCheckboxEvent=function(t,e,i,n){o.addEvent(t,"change",function(){var t,a=this.checked,r=s(this,this.value);c.isBool(n)?e[i]=a:c.isArray(n)&&(t=n.indexOf(r),a?-1===t&&n.push(r):-1!==t&&n.splice(t,1))})},h.parseSelect=function(t,e,i,s,a){var r,h,l=this.vm.updater,u=o.hasAttr(t,"multiple");if(c.isString(e)){if(u)return c.warn("<select> cannot be multiple when the model set '"+a+"' as not Array!");r=Boolean(e)}else{if(!c.isArray(e))return c.warn("the model "+a+" use in <select> must be a type of String or Array!");if(!u)return c.warn("the model '"+a+"' cannot set as Array when <select> has no multiple propperty!");r=e.length>0}r?l.updateSelectChecked(t,e,u):(h=n(t),s[a]=u?h:h[0]),this.vm.watcher.watch(i,function(e,i){l.updateSelectChecked(t,i,u)}),this.bindSelectEvent(t,s,a,u)},h.bindSelectEvent=function(t,e,i,s){o.addEvent(t,"change",function(){var t=n(this);e[i]=s?t:t[0]})},t.exports=a}])});