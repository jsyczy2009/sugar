/*!
 * sugar.js v1.1.2
 * (c) 2016 TANG
 * Released under the MIT license
 * https://github.com/tangbc/sugar
 * Fri Jul 01 2016 21:30:04 GMT+0800 (CST)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Sugar=e()}(this,function(){"use strict";function t(t){return"[object Object]"===Q.toString.call(t)}function e(t){return Array.isArray(t)}function i(t){return t instanceof Function}function n(t){return"string"==typeof t}function s(t){return"boolean"==typeof t}function a(t){return"number"==typeof t&&!isNaN(t)}function r(e){return e&&t(e)&&!e.nodeType&&e!==e.window?!e.constructor||B.call(e.constructor.prototype,"isPrototypeOf"):!1}function c(t){return 0===Object.keys(t).length}function o(){this.count=0,this.queue=[]}function h(){}function u(t,e){return U.isFunc(e)&&/\b\.Super\b/.test(Function.prototype.toString.call(e))?function(){this.Super=t,e.apply(this,arguments)}:e}function l(){}function p(t){var e=t.charAt(0).toUpperCase();return e+t.substr(1)}function d(){this.busy=!1,this.queue=[]}function f(t,e){for(var i,n,s,a=t.$data.$els,r=e.childNodes,c=0;c<r.length;c++)if(i=r[c],t.isElementNode(i)){s=i.attributes;for(var o=0;o<s.length;o++)n=s[o],"v-el"===n.name&&U.hasOwn(a,n.value)&&(a[n.value]=null);i.childNodes.length&&f(t,i)}}function v(t){this.vm=t,this.$listeners={}}function g(t,e,i,n){U.isString(e)&&(e=i[e]),this.$args=n,this.$context=i,this.$callback=e,this.$subPaths=[],this.$action=921,this.$methods="push|pop|shift|unshift|splice|sort|reverse".split("|"),this.observe(t)}function m(t){this.$model=t,this.$modelSubs={},this.$accessSubs={},this.$indexSubs={},this.$deepSubs={},this.observer=new g(t,"change",this)}function y(t){return ft.test(t)&&!lt.test(t)&&0!==t.indexOf("Math.")}function b(t){var e=vt.length;return vt[e]=t,'"'+e+'"'}function w(t,e){return vt[e]}function x(t){var e=t.charAt(0),i=t.slice(1);return ct.test(i)?t:(i=-1!==i.indexOf('"')?i.replace(ut,w):i,e+"scope."+i)}function S(t,e){var i,n=e;return-1!==n.indexOf(t.alias)?t.alias:(U.each(t.aliases,function(t){return new RegExp("\\b"+t+"\\b|\\b"+t+"\\.").test(n)?(i=t,!1):void 0}),i)}function C(){}function $(t){var e,i,n=U.removeSpace(t),s=n.match(/(\(.*\))/),a=s&&s[0];return a?(i=n.substr(0,n.indexOf(a)),e="["+a.substr(1,a.length-2)+"]"):i=n,{func:i,args:e}}function O(t){var e,i,n=t.trim(),s=n.length;return/^\{.*\}$/.test(n)&&(e={},n=n.substr(1,s-2).replace(/\s/g,""),i=n.match(/[^,]+:[^:]+((?=,[^:]+:)|$)/g),U.each(i,function(t){var i=U.getKeyValue(t,!0),n=i[0],s=i[1];n&&s&&(n=n.replace(/(^'*)|('*$)|(^"*)|("*$)/g,""),e[n]=s)})),e}function _(t){this.vm=t,this.$listeners={},C.call(this)}function A(t){this.vm=t,C.call(this)}function k(t){this.vm=t,C.call(this)}function E(t){this.vm=t,C.call(this)}function N(t){this.vm=t,C.call(this)}function j(t){this.vm=t,C.call(this)}function F(t){this.vm=t,C.call(this)}function R(t){this.vm=t,C.call(this)}function T(t){this.vm=t,C.call(this)}function D(t){this.vm=t,this.vclass=new R(t),this.vstyle=new T(t),C.call(this)}function M(t,e){return it.hasAttr(t,"number")?+e:e}function P(t){var e,i,n,s=t.options,a=it.hasAttr(t,"number"),r=s.length,c=[];for(e=0;r>e;e++)i=s[e],n=i.value,i.selected&&c.push(a?+n:M(i,n));return c}function q(t){this.vm=t,C.call(this)}function L(t,e){return this.isElementNode(t)?U.isObject(e)?(this.$element=t,this.$fragment=U.nodeToFragment(this.$element),this.$data=e,U.defRec(e,"$els",{}),U.defRec(e,"$scope",{}),this.$unCompileNodes=[],this.$rootComplied=!1,this.updater=new v(this),this.watcher=new m(this.$data),this.von=new _(this),this.vel=new A(this),this.vif=new k(this),this.vfor=new E(this),this.vtext=new N(this),this.vhtml=new j(this),this.vshow=new F(this),this.vbind=new D(this),this.vmodel=new q(this),this.$inputs="input|select|textarea".split("|"),void this.init()):U.warn("model must be a type of Object: ",e):U.warn("element must be a type of DOMElement: ",t)}function I(t,e,i){var n=this.context=i||this;U.each(e,function(t,i){U.isFunc(t)&&(e[i]=t.bind(n))}),this.backup=U.copy(e),this.vm=new L(t,e),this.$=this.vm.$data}function V(){this.sync=K,this.util=U,this.ajax=z,this.core=et,this.Module=Y,this.Component=Nt}var Q=Object.prototype,B=Q.hasOwnProperty,U={isBool:s,isFunc:i,isArray:e,isEmpty:c,isNumber:a,isObject:t,isString:n};U.warn=function(){console.warn.apply(console,arguments)},U.hasOwn=function(t,e){return t&&B.call(t,e)},U.def=function(t,e,i,n,s,a){return Object.defineProperty(t,e,{value:i,writable:!!n,enumerable:!!s,configurable:!!a})},U.defRec=function(t,e,i){return this.def(t,e,i,!0,!1,!0)},U.each=function(i,s,a){var r,c,o=this;if(i)if(a||(a=this),n(s)&&(s=a[s]),e(i))for(c=0;c<i.length&&(r=s.call(a,i[c],c,i),r!==!1);c++)null===r&&(i.splice(c,1),c--);else if(t(i))for(c in i)if(o.hasOwn(i,c)){if(r=s.call(a,i[c],c,i),r===!1)break;null===r&&delete i[c]}},U.extend=function(){var t,n,a,c,o,h,u=arguments,l=this,p=arguments[0]||{},d=1,f=arguments.length,v=!1;for(s(p)&&(v=p,p=arguments[d]||{},d++),"object"==typeof p||i(p)||(p={}),d===f&&(p=this,d--);f>d;d++)if(null!=(t=u[d]))for(n in t)a=p[n],c=t[n],p!==c&&(v&&c&&(r(c)||(o=e(c)))?(o?(o=!1,h=a&&e(a)?a:[]):h=a&&r(a)?a:{},p[n]=l.extend(v,h,c)):void 0!==c&&(p[n]=c));return p},U.copy=function(i){var n;return e(i)?n=i.slice(0):t(i)&&(n=this.extend(!0,{},i)),n||i},U.removeSpace=function(t){return t.replace(/\s/g,"")},U.getKeyValue=function(t,e){var i=t.split(":");return e?i:i.pop()},U.createElement=function(t){return document.createElement(t)},U.createFragment=function(){return document.createDocumentFragment()},U.nodeToFragment=function(t){for(var e,i=this.createFragment();e=t.firstChild;)i.appendChild(e);return i},U.stringToFragment=function(t){var e,i;return/<[^>]+>/g.test(t)?(e=this.createElement("div"),e.innerHTML=t,i=this.nodeToFragment(e)):(i=this.createFragment(),i.appendChild(document.createTextNode(t))),i},U.getExpAlias=function(t){var e=t.indexOf(".");return-1===e?t:t.substr(0,e)},U.getExpKey=function(t){var e=t.lastIndexOf(".");return-1===e?"":t.substr(e+1)},U.diff=function(t,e){return{n:this.getUnique(t,e),o:this.getUnique(e,t)}},U.getUnique=function(i,n){var s={};return this.each(i,function(i,a){var r,o=n[a];if(t(i))r=this.getUnique(i,o),c(r)||(s[a]=r);else if(e(i)){var h=[];this.each(i,function(e,i){var n;t(e)?(n=this.getUnique(e,o[i]),h.push(n)):-1===o.indexOf(e)&&h.push(e)},this),s[a]=h}else i!==o&&(s[a]=i)},this),s},U.makePaths=function(t){var e,i=this,n=t&&t.split("*");if(!n||n.length<2)return[];for(var s=n.length-1;s>-1;s--)if(i.isNumber(+n[s])){e=s+1;break}return n.slice(0,e)},U.getDeepValue=function(t,e){for(var i=e.slice(0);i.length;)t=t[i.shift()];return t},U.makeScopePaths=function(t){var e=0,i=[];if(t.length%2===0)for(;e<t.length;)e+=2,i.push(t.slice(0,e));return i};var J=o.prototype;J.lock=function(){this.count++},J.unlock=function(){this.count--,this._checkQueue()},J.addQueue=function(t,e,i){this.queue.push([t,e,i])},J._checkQueue=function(){for(var t,e,i,n,s=this;0===this.count&&this.queue.length;)t=s.queue.pop(),e=t[0],i=t[1],n=t[2],U.isString(e)&&(e=i[e]),U.isFunc(e)&&e.apply(i,n)};var K=new o,H=h.prototype;H._execute=function(t,e,i,n,s,a){var r=a||this,c=new XMLHttpRequest;c.open(i,e,!0),c.onreadystatechange=function(){var e,i=null,n=null,a=c.status;4===c.readyState&&(e=c.responseText,"text"!==t&&(e=JSON.parse(e)),200===a?i={success:!0,result:e}:n={result:null,success:!1,status:a},s.call(r,n,i))},n&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(n)},H.get=function(t,e,i,n,s){var a=[];U.isFunc(e)&&(s=n,n=i,i=e,e=null),U.each(e,function(t,e){a.push(e+"="+encodeURIComponent(t))}),a.length&&(t=t+"?"+a.join("&")),this._execute(s||"json",t,"GET",null,i,n)},H.post=function(t,e,i,n){this._execute("json",t,"POST",e?JSON.stringify(e):null,i,n)},H.load=function(t,e,i,n){this.get(t,e,i,n,"text")};var z=new h,Z={id:1,length:0};l.extend=function(t){function e(t,e){var i=n[t];U.isFunc(i)&&i.apply(this,e)}function i(){}var n=this.prototype,s=i.prototype=Object.create(n);return U.each(t,function(t,i){s[i]=u(e,t)}),t=null,i.extend=this.extend,s.constructor=i,i};var G,W=d.prototype;W._create=function(t,e,i,n){return{type:t,from:e,to:null,count:0,name:i,param:n,method:"on"+p(i),returns:null}},W._trigger=function(t,e,i){var n=t[e.method];return e.to=t,U.isFunc(n)?(i=n.call(t,e),e.count++):U.isFunc(t.onMessage)&&(i=t.onMessage.call(t,e),e.count++),e.returns=i,i},W._notifySender=function(t,e,i){e||(e=i.onMessageSent),U.isString(e)&&(e=i[e]),U.isFunc(e)&&e.call(i,t),this.queue.length?setTimeout(this._sendQueue,0):this.busy=!1},W._sendQueue=function(){var t=G.queue.shift();if(G.busy=!1,!t)return!1;var e=t.shift(),i=G[e];U.isFunc(i)&&i.apply(G,t)},W.fire=function(t,e,i,n,s){var a=this,r="fire";if(this.busy||K.count)return this.queue.push([r,t,e,i,n,s]),void(K.count&&K.addQueue(this._sendQueue,this));this.busy=!0;for(var c,o=this._create(r,t,e,i),h=t;h&&(c=a._trigger(h,o),c!==!1);)o.from=h,h=h.getParent();this._notifySender(o,n,s)},W.broadcast=function(t,e,i,n,s){var a=this,r="broadcast";if(this.busy||K.count)return this.queue.push([r,t,e,i,n,s]),void(K.count&&K.addQueue(this._sendQueue,this));this.busy=!0;for(var c,o,h=this._create(r,t,e,i),u=[t];u.length&&(c=u.shift(),o=a._trigger(c,h),o!==!1);)u.push.apply(u,c.getChilds(!0));this._notifySender(h,n,s)},W.notify=function(t,e,i,n,s,a){function r(t){var e=null;return U.each(Z,function(i){return(i._&&i._.name)===t?(e=i,!1):void 0}),e}var c="notify";if(this.busy||K.count)return this.queue.push([c,t,e,i,n,s,a]),void(K.count&&K.addQueue(this._sendQueue,this));this.busy=!0;var o,h,u=null;if(U.isString(e)){for(u=e.split(".");u.length>0;)o?h=o.getChild(u.shift()):(o=r(u.shift()),h=0===u.length?o:o?o.getChild(u[0]):null);U.isObject(h)&&(e=h)}if(!U.isObject(e))return U.warn("module: '"+e+"' is not found in cache!");var l=this._create(c,t,i,n);this._trigger(e,l),this._notifySender(l,s,a)},W.globalCast=function(t,e){var i="globalCast";if(this.busy||K.count)return this.queue.push([i,t,e]),void(K.count&&K.addQueue(this._sendQueue,this));this.busy=!1;var n=this._create(i,"core",t,e);U.each(Z,function(t){this._trigger(t,n)},this)},G=new d;var X=G,Y=l.extend({_:{},create:function(t,e,i){if(!U.isString(t))return U.warn("module's name must be a type of String: ",t);if(!U.isFunc(e))return U.warn("module's Class must be a type of Function: ",e);if(i&&!U.isObject(i))return U.warn("module's config must be a type of Object: ",i);var n=this._;if(U.hasOwn(n,"childArray")||(n.childArray=[],n.childMap={}),n.childMap[t])return U.warn("Module's name already exists: ",t);var s=new e(i),a={name:t,id:Z.id++,pid:n.id||0};return s._=a,Z[a.id]=s,Z.length++,n.childArray.push(s),n.childMap[t]=s,U.isFunc(s.init)&&s.init(i,this),s},getParent:function(){var t=this._,e=t&&t.pid;return Z[e]||null},getChild:function(t){var e=this._;return e&&e.childMap&&e.childMap[t]||null},getChilds:function(t){var e=this._;return t=U.isBool(t)&&t,t?e.childArray||[]:e.childMap||{}},_removeChild:function(t){var e=this._,i=e.childMap||{},n=e.childArray||[],s=i[t];if(s)for(var a=0,r=n.length;r>a;a++)if(n[a].id===s.id){delete i[t],n.splice(a,1);break}},destroy:function(t){var e=this._,i=e.name;U.isFunc(this.beforeDestroy)&&this.beforeDestroy();var n=this.getChilds(!0);U.each(n,function(t){U.isFunc(t.destroy)&&t.destroy(-1)});var s=this.getParent();-1!==t&&s&&s._removeChild(i);var a=e.id;U.hasOwn(Z,a)&&(delete Z[a],Z.length--),U.isFunc(this.afterDestroy)&&this.afterDestroy(),t===!0&&this.fire("subDestroyed",i)},setTimeout:function(t,e,i){var n=this;return e=U.isNumber(e)?e:0,U.isString(t)&&(t=this[t]),U.isFunc(t)?(!i||U.isFunc(i.callee)||U.isArray(i)||(i=[i]),setTimeout(function(){t.apply(n,i),n=t=e=i=null},e)):U.warn("callback must be a type of Function: ",t)},fire:function(t,e,i){return U.isString(t)?(U.isFunc(e)&&(i=e,e=null),U.isString(i)&&(i=this[i]),i||(i=null),void X.fire(this,t,e,i,this)):U.warn("message's name must be a type of String: ",t)},broadcast:function(t,e,i){return U.isString(t)?(U.isFunc(e)&&(i=e,e=null),U.isString(i)&&(i=this[i]),i||(i=null),void X.broadcast(this,t,e,i,this)):U.warn("message's name must be a type of String: ",t)},notify:function(t,e,i,n){return U.isString(t)?U.isString(e)?(U.isFunc(i)&&(n=i,i=null),U.isString(n)&&(n=this[n]),n||(n=null),void X.notify(this,t,e,i,n,this)):U.warn("message's name must be a type of String: ",e):U.warn("receiver's name must be a type of String: ",e)}}),tt=Y.extend({get:function(t){return this.getChild(t)},globalCast:function(t,e){return U.isString(t)?void X.globalCast(t,e):U.warn("message's name must be a type of String: ",t)}}),et=Z[0]=new tt,it={empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},setAttr:function(t,e,i){"boolean"==typeof i?t[e]=i:i!==this.getAttr(t,e)&&t.setAttribute(e,i)},getAttr:function(t,e){return t.getAttribute(e)||""},hasAttr:function(t,e){return t.hasAttribute(e)},removeAttr:function(t,e){t.removeAttribute(e)},addClass:function(t,e){var i,n=t.classList;this.hasClass(t,e)||(n?n.add(e):(i=" "+this.getAttr(t,"class")+" ",-1===i.indexOf(" "+e+" ")&&this.setAttr(t,"class",(i+e).trim())))},removeClass:function(t,e){var i,n,s=t.classList;if(this.hasClass(t,e)){if(s)s.remove(e);else{for(n=" "+e+" ",i=" "+this.getAttr(t,"class")+" ";-1!==i.indexOf(n);)i=i.replace(n," ");this.setAttr(t,"class",i.trim())}t.className||this.removeAttr(t,"class")}},hasClass:function(t,e){var i,n=t.classList;return n?n.contains(e):(i=" "+this.getAttr(t,"class")+" ",-1!==i.indexOf(" "+e+" "))},addEvent:function(t,e,i,n){t.addEventListener(e,i,n)},removeEvent:function(t,e,i,n){t.removeEventListener(e,i,n)}},nt=v.prototype;nt.updateTextContent=function(t,e){t.textContent=String(e)},nt.updateHtmlContent=function(t,e){it.empty(t).appendChild(U.stringToFragment(String(e)))},nt.updateDisplay=function(t,e){var i=this.getSibling(t);this.setVisible(t),this.updateStyle(t,"display",e?t._visible_display:"none"),i&&(it.hasAttr(i,"v-else")||"v-else"===i._directive)&&(this.setVisible(i),this.updateStyle(i,"display",e?"none":i._visible_display))},nt.setVisible=function(t){var e,i,n;t._visible_display||(e=U.removeSpace(it.getAttr(t,"style")),e&&-1!==e.indexOf("display")&&(i=e.split(";"),U.each(i,function(t){-1!==t.indexOf("display")&&(n=U.getKeyValue(t))})),"none"!==n&&(t._visible_display=n||""))},nt.updateRenderContent=function(t,e){var i=this.getSibling(t);this.setRender(t),this.toggleRender.apply(this,arguments),i&&(it.hasAttr(i,"v-else")||"v-else"===i._directive)&&(this.setRender(i),this.toggleRender(i,!e))},nt.setRender=function(t){t._render_content||(t._render_content=t.innerHTML),it.empty(t)},nt.toggleRender=function(t,e){var i=this.vm,n=U.stringToFragment(t._render_content);e?(i.complieElement(n,!0),t.appendChild(n)):f(i,n)},nt.getSibling=function(t){var e=t.nextSibling,i=this.vm.isElementNode;if(e&&i(e))return e;for(;e;)if(e=e.nextSibling,e&&i(e))return e;return null},nt.updateAttribute=function(t,e,i){null===i?it.removeAttr.apply(this,arguments):"value"===e?t.value=i:it.setAttr(t,e,i)},nt.updateClassName=function(t,e,i,n){n?e===!0?it.addClass(t,n):e===!1&&it.removeClass(t,n):(e&&it.addClass(t,e),i&&it.removeClass(t,i))},nt.updateStyle=function(t,e,i){t.style[e]!==i&&(t.style[e]=i)},nt.updateEvent=function(t,e,i,n,s){s?it.removeEvent(t,e,i,n):it.addEvent(t,e,i,n)},nt.updateTextValue=function(t,e){t.value!==e&&(t.value=e)},nt.updateRadioChecked=function(t,e){t.checked=t.value===(U.isNumber(e)?String(e):e)},nt.updateCheckboxChecked=function(t,e){var i=t.value;return U.isArray(e)||U.isBool(e)?(it.hasAttr(t,"number")&&(i=+i),void(t.checked=U.isBool(e)?e:-1!==e.indexOf(i))):U.warn("checkbox v-model value must be a type of Boolean or Array!")},nt.updateSelectChecked=function(t,e,i){var n,s,a,r=it.hasAttr(t,"number"),c=t.options,o=c.length,h=i||it.hasAttr(t,"multiple");for(n=0;o>n;n++)s=c[n],a=s.value,a=r?+a:it.hasAttr(s,"number")?+a:a,s.selected=h?-1!==e.indexOf(a):e===a};var st=g.prototype;st.observe=function(t,e){return U.isArray(t)&&this.rewriteMethods(t,e),U.each(t,function(i,n){var s=e&&e.slice(0);s?s.push(n):s=[n],this.bindWatch(t,s,i)},this),this},st.bindWatch=function(t,e,i){var n=e.join("*"),s=e[e.length-1],a=Object.getOwnPropertyDescriptor(t,s),r=a.get,c=a.set;Object.defineProperty(t,s,{get:function(){return r?r.call(t):i}.bind(this),set:function(a,o){var h,u,l,p=r?r.call(t):i,d=-1!==this.$methods.indexOf(this.$action);a!==p&&(d||!U.isArray(a)&&!U.isObject(a)||this.observe(a,e),h=this.getSubPath(n),h&&(u=t[s]),c?c.call(t,a,!0):i=a,d||o||(l=h?[h,t[s],u]:[n,a,p],this.trigger.apply(this,l)))}.bind(this)});var o=t[s],h=U.isObject(o);(U.isArray(o)||h)&&this.observe(o,e),h&&-1===this.$subPaths.indexOf(n)&&!U.isNumber(+n.split("*").pop())&&this.$subPaths.push(n)},st.getSubPath=function(t){for(var e=this.$subPaths,i=0;i<e.length;i++)if(0===t.indexOf(e[i]))return e[i]},st.rewriteMethods=function(t,e){var i=Array.prototype,n=Object.create(i),s=e&&e.join("*");U.each(this.$methods,function(t){var a=this,r=i[t];U.defRec(n,t,function(){for(var i,n=arguments,c=arguments.length,o=new Array(c);c--;)o[c]=n[c];return a.$action=t,i=r.apply(this,o),a.$action=921,a.observe(this,e),a.trigger(s,this,t,o),i})},this),U.defRec(n,"$set",function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}),U.defRec(n,"$remove",function(t){var e=this.indexOf(t);return-1!==e?this.splice(e,1):void 0}),t.__proto__=n},st.trigger=function(t,e,i,n){this.$callback.apply(this.$context,[t,e,i,n||this.$args])};var at=m.prototype;at.change=function(t,e,i,n){var s,a=-1!==t.indexOf("*"),r=a?this.$accessSubs[t]:this.$modelSubs[t];this.trigger(r,t,e,i,n),a&&(s=t.split("*").shift(),this.trigger(this.$deepSubs[s],t,e,i,n))},at.trigger=function(t,e,i,n,s){U.each(t,function(t){t.cb.call(t.ct,e,i,n,s||t.arg)})},at.watch=function(t,e,i,n){var s=t.dep,a=t.acc;U.each(s,function(t,s){var r=a[s];if("$event"!==t)return-1!==t.indexOf("$index")?void this.watchIndex(r,e,i,n):r?void this.watchAccess(r,e,i,n):void this.watchModel(U.getExpAlias(t),e,i,n)},this)},at.watchModel=function(t,e,i,n,s){return U.hasOwn(this.$model,t)?-1!==t.indexOf("*")?U.warn('Model key cannot contain the character "*"!'):(this.addSubs(this.$modelSubs,t,e,i,n),void(s&&this.addSubs(this.$deepSubs,t,e,i,n))):U.warn('The field: "'+t+'" does not exist in model!')},at.watchAccess=function(t,e,i,n){this.addSubs(this.$accessSubs,t,e,i,n)},at.watchIndex=function(t,e,i,n){this.addSubs(this.$indexSubs,t,e,i,n)},at.addSubs=function(t,e,i,n,s){t[e]||(t[e]=[]),t[e].push({cb:i,ct:n,arg:s})},at.removeSubs=function(t){U.each(this.$indexSubs,function(e,i){return 0===i.indexOf(t)?null:void 0}),U.each(this.$accessSubs,function(e,i){return 0===i.indexOf(t)?null:void 0})},at.moveSubs=function(t,e,i){var n=t+"*";this.moveIndex(n,e),this.moveAccess(n,e)},at.moveIndex=function(t,e){var i={},n=this.$indexSubs,s=U.copy(n);U.each(e,function(e,a){var r,c=t+a,o=t+e;i[c]=s[o],e===r&&(n[c]=r)}),U.each(i,function(e,i){var n=+i.substr(t.length);U.each(e,function(t){t.cb.call(t.ct,"$index",n,t.arg)})}),U.extend(n,i),i=s=null},at.moveAccess=function(t,e){var i={},n=this.$accessSubs,s=U.copy(n);U.each(e,function(e,a){var r,c=[],o=[],h=t+a,u=t+e;U.each(n,function(t,i){e===r&&0===i.indexOf(h)?(o.push(r),c.push(i)):0===i.indexOf(u)&&(o.push(i),c.push(i.replace(u,h)))}),U.each(c,function(t,e){var a=o[e];a===r?n[t]=r:i[t]=s[a]})}),U.extend(n,i),i=s=null};var rt="Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",ct=new RegExp("^("+rt.replace(/\./g,"\\b|")+"\\b)"),ot="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",ht=new RegExp("^("+ot.replace(/\./g,"\\b|")+"\\b)"),ut=/"(\d+)"/g,lt=/^(true|false)$/,pt=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,dt=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,ft=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,vt=[],gt=C.prototype;gt.bind=function(t,e,i){var n=this.getDeps(t,i),s=this.getScope(t,i),a=this.getEval(t,i),r=t&&U.copy(t.maps);this.update(e,a.call(s,s)),this.vm.watcher.watch(n,function(){s=this.updateScope(s,r,n,arguments),this.update(e,a.call(s,s))},this)},gt.createGetter=function(t){try{return new Function("scope","return "+t+";")}catch(e){throw"Invalid generated expression: "+t}},gt.getEval=function(t,e){var i=this.toScope(e);return ht.test(i)?U.warn("Avoid using unallow keyword in expression: "+i):(t&&U.each(t.aliases,function(t){var e=new RegExp("scope."+t,"g");i=i.replace(e,function(t){return"scope.$"+t})}),this.createGetter(i))},gt.toScope=function(t){var e=t;return y(e)?"scope."+e:(e=(" "+e).replace(pt,b),e=e.replace(dt,x),e=e.replace(ut,w))},gt.getModel=function(){return this.vm.$data},gt.getScope=function(t,e){var i=this.getModel();return t&&(U.defRec(i,"$index",t.index),U.defRec(i,"$scope",t.scopes)),i},gt.updateScope=function(t,e,i,n){var s,a,r=0,c={},o=this.getModel(),h=U.copy(i.acc);return h.unshift(n[0]),U.each(h,function(t){var e=U.makePaths(t);e.length>r&&(s=e,r=e.length)}),s&&(a=U.makeScopePaths(s),U.each(a,function(t){var i=t.length;"$index"===n[0]&&(t[i-1]=n[1]);var s=t[i-2],a=+t[i-1],r=U.getDeepValue(o,t)||{};U.defRec(o,"$index",a),c[e[s]]=r}),U.defRec(o,"$scope",U.extend(t.$scope,c))),o},gt.getDeps=function(t,e){var i=[],n=[],s=" "+e.replace(pt,b),a=s.match(dt);return U.each(a,function(e){var s,a,r,c,o=e.substr(1);t?(s=S(t,e),a=-1!==o.indexOf("$index"),(-1!==o.indexOf(s)||a)&&(r=t.accesses[t.aliases.indexOf(s)])):s=U.getExpAlias(o),a||o===s?c=r||t&&t.access:r&&"$event"!==o&&(c=r+"*"+U.getExpKey(o)),-1===i.indexOf(o)&&(i.push(o),n.push(c))}),{dep:i,acc:n}};var mt=_.prototype=Object.create(C.prototype);mt.parse=function(t,e,i,n){-1!==n.indexOf(":")?this.parseSingle.apply(this,arguments):this.parseJson.apply(this,arguments)},mt.parseSingle=function(t,e,i,n){var s=$(i),a=U.getKeyValue(n),r=s.func,c=s.args,o=this.getDeps(t,r),h=this.getScope(t,r),u=this.getEval(t,r),l=u.call(h,h);this.bindEvent(t,e,r,a,l,c),this.vm.watcher.watch(o,function(i,n,s){this.update(e,a,this.$listeners[i],!1,!0),this.bindEvent(t,e,i,a,n,c)},this)},mt.parseJson=function(t,e,i){U.each(O(i),function(i,n){this.parseSingle(t,e,i,n)},this)},mt.bindEvent=function(t,e,i,n,s,a){var r,c,o,h,u,l=this.$listeners,p=t&&t.access||i,d=!1;if(U.isFunc(s)){-1!==n.indexOf(".")&&(r=n.split("."),n=r.shift(),c=r&&-1!==r.indexOf("self"),o=r&&-1!==r.indexOf("stop"),h=r&&-1!==r.indexOf("prevent"),d=r&&-1!==r.indexOf("capture"),u=0===n.indexOf("key")?+r[0]:null);var f,v,g,m,y=[];a&&(f=this.getDeps(t,a),v=t&&U.copy(t.maps),g=this.getScope(t,a),U.defRec(g,"$event","$event"),m=this.getEval(t,a),y=m.call(g,g),this.vm.watcher.watch(f,function(){g=this.updateScope(g,v,f,arguments),y=m.call(g,g)},this));var b=function(t){c&&t.target!==e||u&&u!==t.keyCode||(y.length?U.each(y,function(e,i){("$event"===e||e instanceof Event)&&(y[i]=t)}):y.push(t),o&&t.stopPropagation(),h&&t.preventDefault(),s.apply(this,y))};l[p]=b,this.update(e,n,b,d)}},mt.update=function(){var t=this.vm.updater;t.updateEvent.apply(t,arguments)};var yt=A.prototype=Object.create(C.prototype);yt.parse=function(t,e,i){var n,s,a;if(t){if(s=U.getExpAlias(i),s!==t.alias)return U.warn("when v-el use in v-for must be defined inside current loop body!");a=t.scopes[s],U.isObject(a)&&(n=U.getExpKey(i),a[n]=e)}else this.vm.$data.$els[i]=e};var bt=k.prototype=Object.create(C.prototype);bt.parse=function(){this.bind.apply(this,arguments)},bt.update=function(){var t=this.vm.updater;t.updateRenderContent.apply(t,arguments)};var wt=E.prototype=Object.create(C.prototype);wt.parse=function(t,e,i){var n,s,a,r=this.vm,c=i.match(/(.*) in (.*)/),o=c[1],h=c[2],u=r.watcher,l=e.parentNode,p="OPTION"===e.tagName&&"SELECT"===l.tagName,d=this.getScope(t,h),f=this.getEval(t,h),v=f.call(d,d),g=h,m=U.getExpKey(h),y=-1,b={},w={},x=[],S=[];return t&&(w=t.maps,y=t.level,b=t.scopes,x=t.aliases.slice(0),S=t.accesses.slice(0),g=t.access+"*"+m),U.isArray(v)?(n=[e,v,0,g,o,x,S,b,w,++y],s=this.buildList.apply(this,n),e.parentNode.replaceChild(s,e),p&&this.updateOption(l,t),a={alias:o,aliases:x,access:g,accesses:S,scopes:b,level:y,maps:w},void(t?u.watchAccess(g,function(t,i,n,s){this.update(l,e,i,n,a,s)},this):u.watchModel(g,function(t,i,n,s){this.update(l,e,i,n,a,s)},this))):void l.removeChild(e)},wt.updateOption=function(t,e){var i=t._vmodel,n=this.getEval(e,i),s=this.getScope(e,i),a=n.call(s,s);this.vm.updater.updateSelectChecked(t,a)},wt.buildList=function(t,e,i,n,s,a,r,c,o,h){var u=this.vm,l=U.createFragment();return U.each(e,function(e,p){var d,f=i+p,v=n.split("*").pop(),g=t.cloneNode(!0),m=n+"*"+f;c[s]=e,a[h]=s,r[h]=m,o[v]=s,d={alias:s,aliases:a,access:m,accesses:r,scopes:c,maps:o,level:h,index:f},t._vfor_directives>1&&u.blockCompile(t),this.signAlias(g,s),u.complieElement(g,!0,d),l.appendChild(g)},this),l},wt.signAlias=function(t,e){U.def(t,"_vfor_alias",e)},wt.update=function(t,e,i,n,s,a){switch(n){case"push":this.push.apply(this,arguments);break;case"pop":this.pop.apply(this,arguments);break;case"unshift":this.unshift.apply(this,arguments);break;case"shift":this.shift.apply(this,arguments);break;case"splice":this.splice.apply(this,arguments);break;default:this.recompile.apply(this,arguments)}},wt.updateScopes=function(t){var e,i=t.maps,n=t.scopes,s=t.accesses,a=s.length,r=this.vm.$data;return a>1&&(e=U.makePaths(s[a-1]),U.each(U.makeScopePaths(e),function(t){var e=t.length-2,s=i[t[e]],a=U.getDeepValue(r,t)||{};n[s]=a})),n},wt.getChanges=function(t,e){var i,n,s={};switch(t){case"unshift":for(s[0]=n,i=1;e>i;i++)s[i]=i-1;break;case"shift":for(i=0;e+1>i;i++)s[i]=i+1;s[e]=n}return s},wt.push=function(t,e,i,n,s){var a=i.length-1,r=s.alias,c=[i[a]],o=this.updateScopes(s),h=[e,c,a,s.access,r,s.aliases,s.accesses,o,s.maps,s.level],u=this.getLast(t,r),l=this.buildList.apply(this,h);u?t.insertBefore(l,u.nextSibling):t.appendChild(l)},wt.pop=function(t,e,i,n,s){var a=this.getLast(t,s.alias);a&&t.removeChild(a)},wt.unshift=function(t,e,i,n,s){var a,r,c,o=s.alias,h=[i[0]],u=this.updateScopes(s),l=[e,h,0,s.access,o,s.aliases,s.accesses,u,s.maps,s.level];a=this.getChanges(n,i.length),this.vm.watcher.moveSubs(s.access,a),r=this.buildList.apply(this,l),c=this.getFirst(t,o),t.insertBefore(r,c)},wt.shift=function(t,e,i,n,s){var a=this.getChanges(n,i.length),r=this.getFirst(t,s.alias);r&&(t.removeChild(r),this.vm.watcher.moveSubs(s.access,a))},wt.splice=function(t,e,i,n,s,a){var r=a.shift(),c=a.shift(),o=a,h=a.length;if(0!==c||h){var u,l,p,d,f,v,g={},m=s.alias,y=i.length,b=c&&!h,w=!c&&h,x=c&&h;if(b){for(u=0;y>u;u++)g[u]=u>=r?u+c:u;if(U.isEmpty(g))return void this.recompile.apply(this,arguments);this.vm.watcher.moveSubs(s.access,g),this.removeEl(t,m,r,c)}else if(w||x){for(u=0;y>u;u++)w?g[u]=r>u?u:u>=r&&r+h>u?f:u-h:x&&(g[u]=r>u?u:u>=r&&r+h>u?f:u-(h-c));if(U.isEmpty(g)||0===r&&c>y)return void this.recompile.apply(this,arguments);this.vm.watcher.moveSubs(s.access,g),x&&this.removeEl(t,m,r,c),p=this.getChild(t,m,r),v=this.updateScopes(s),d=[e,o,r,s.access,m,s.aliases,s.accesses,v,s.maps,s.level],l=this.buildList.apply(this,d),t.insertBefore(l,p)}}},wt.getFirst=function(t,e){var i,n,s=null,a=t.childNodes;for(i=0;i<a.length;i++)if(n=a[i],n._vfor_alias===e){s=n;break}return s},wt.getLast=function(t,e){var i,n,s=null,a=t.childNodes;for(i=a.length-1;i>-1;i--)if(n=a[i],n._vfor_alias===e){s=n;break}return s},wt.getChild=function(t,e,i){var n,s,a=0,r=null,c=t.childNodes;for(n=0;n<c.length;n++)if(s=c[n],s._vfor_alias===e){if(a===i){r=s;break}a++}return r},wt.removeEl=function(t,e,i,n){var s,a,r=t.childNodes,c=-1,o=[];for(s=0;s<r.length;s++)a=r[s],a._vfor_alias===e&&c++,c>=i&&i+n>c&&o.push(a);U.each(o,function(e){return t.removeChild(e),null})},wt.recompile=function(t,e,i,n,s){var a,r,c,o=s.alias,h=t.childNodes,u=this.updateScopes(s),l=[e,i,0,s.access,o,s.aliases,s.accesses,u,s.maps,s.level];this.vm.watcher.removeSubs(s.access),c=this.buildList.apply(this,l);for(var p=0;p<h.length;p++)a=h[p],a._vfor_alias===o&&(r?(p--,t.removeChild(a)):r=a);r?t.replaceChild(c,r):t.appendChild(c)};var xt=N.prototype=Object.create(C.prototype);xt.parse=function(){this.bind.apply(this,arguments)},xt.update=function(){var t=this.vm.updater;t.updateTextContent.apply(t,arguments)};var St=j.prototype=Object.create(C.prototype);St.parse=function(t,e,i){this.bind.apply(this,[t,this.vm.isTextNode(e)?e.parentNode:e,i])},St.update=function(){var t=this.vm.updater;t.updateHtmlContent.apply(t,arguments)};var Ct=F.prototype=Object.create(C.prototype);Ct.parse=function(){this.bind.apply(this,arguments)},Ct.update=function(){var t=this.vm.updater;t.updateDisplay.apply(t,arguments)};var $t=R.prototype=Object.create(C.prototype);$t.parse=function(t,e,i){var n=this.getDeps(t,i),s=this.getScope(t,i),a=this.getEval(t,i),r=t&&U.copy(t.maps),c=a.call(s,s);this.updateClass(e,c),this.vm.watcher.watch(n,function(t,i,o){s=this.updateScope(s,r,n,arguments),U.isArray(c)&&(c=[o]),this.updateClass(e,c,!0),c=a.call(s,s),this.updateClass(e,c)},this)},$t.updateClass=function(t,e,i){U.isString(e)?this.update(t,i?null:e,i?e:null):U.isArray(e)?U.each(e,function(e){this.update(t,i?null:e,i?e:null)},this):U.isObject(e)&&U.each(e,function(e,n){this.update(t,i?!1:e,!1,n)},this)},$t.update=function(){var t=this.vm.updater;t.updateClassName.apply(t,arguments)};var Ot=T.prototype=Object.create(C.prototype);Ot.parse=function(t,e,i){var n=this.getDeps(t,i),s=this.getScope(t,i),a=this.getEval(t,i),r=t&&U.copy(t.maps),c=a.call(s,s);this.updateStyle(e,c),this.vm.watcher.watch(n,function(t,i,c){U.isObject(c)?(U.each(c,function(t,e){c[e]=null}),this.updateStyle(e,U.extend(i,c))):(s=this.updateScope(s,r,n,arguments),this.updateStyle(e,a.call(s,s)))},this)},Ot.updateStyle=function(t,e,i){return U.isObject(e)?void U.each(e,function(e,n){this.update(t,n,i?null:e)},this):U.warn("v-bind for style must be a type of Object!",e)},Ot.update=function(){var t=this.vm.updater;t.updateStyle.apply(t,arguments)};var _t=D.prototype=Object.create(C.prototype);_t.parse=function(t,e,i,n){var s,a=this.vclass,r=this.vstyle;if(-1!==n.indexOf(":"))switch(s=U.getKeyValue(n)){case"class":a.parse.apply(a,arguments);break;case"style":r.parse.apply(r,arguments);break;default:this.parseAttr(t,e,i,s)}else this.parseJson.apply(this,arguments)},_t.parseJson=function(t,e,i){var n=this.getDeps(t,i),s=this.getScope(t,i),a=this.getEval(t,i),r=U.copy(a.call(s,s)),c=t&&U.copy(t.maps);this.updateJson(e,r),this.vm.watcher.watch(n,function(t,i,o){var h,u;s=this.updateScope(s,c,n,arguments),u=a.call(s,s),h=U.diff(u,r),this.updateJson(e,h.o,!0),this.updateJson(e,h.n),r=U.copy(u)},this)},_t.updateJson=function(t,e,i){var n=this.vclass,s=this.vstyle;U.each(e,function(e,a){switch(a){case"class":n.updateClass(t,e,i);break;case"style":s.updateStyle(t,e,i);break;default:this.update(t,a,e)}},this)},_t.parseAttr=function(t,e,i,n){var s=this.getDeps(t,i),a=this.getScope(t,i),r=this.getEval(t,i),c=t&&U.copy(t.maps);this.update(e,n,r.call(a,a)),this.vm.watcher.watch(s,function(){a=this.updateScope(a,c,s,arguments),this.update(e,n,r.call(a,a))},this)},_t.update=function(){var t=this.vm.updater;t.updateAttribute.apply(t,arguments)};var At=q.prototype=Object.create(C.prototype);At.parse=function(t,e,i){var n=this.vm,s=n.$inputs,a=e.tagName.toLowerCase(),r="input"===a?it.getAttr(e,"type"):a;if(-1===s.indexOf(a))return U.warn("v-model only for using in "+s.join(", "));U.def(e,"_vmodel",i);var c=this.getDeps(t,i),o=this.getScope(t,i),h=this.getEval(t,i),u=U.makePaths(c.acc[0]||c.dep[0]),l=U.getDeepValue(this.vm.$data,u),p=h.call(o,o),d=U.getExpKey(i)||i,f=[e,p,c,l,d];switch(r){case"text":case"password":case"textarea":this.parseText.apply(this,f);break;case"radio":this.parseRadio.apply(this,f);break;case"checkbox":this.parseCheckbox.apply(this,f);break;case"select":this.parseSelect.apply(this,f)}},At.parseText=function(t,e,i,n,s){var a=this.vm,r=a.updater;r.updateTextValue(t,e),a.watcher.watch(i,function(e,i){r.updateTextValue(t,i)},this),this.bindTextEvent(t,n,s)},At.bindTextEvent=function(t,e,i){var n;it.addEvent(t,"compositionstart",function(){n=!0;
}),it.addEvent(t,"compositionend",function(){n=!1}),it.addEvent(t,"input",function(){n||(e[i]=this.value)}),it.addEvent(t,"change",function(){e[i]=this.value})},At.parseRadio=function(t,e,i,n,s){var a=this.vm,r=a.updater;it.hasAttr(t,"checked")&&(n[s]=e=M(t,t.value)),r.updateRadioChecked(t,e),a.watcher.watch(i,function(e,i){r.updateRadioChecked(t,i)},this),this.bindRadioEvent(t,n,s)},At.bindRadioEvent=function(t,e,i){it.addEvent(t,"change",function(){e[i]=M(this,this.value)})},At.parseCheckbox=function(t,e,i,n,s){var a=this.vm,r=a.updater;it.hasAttr(t,"checked")&&(U.isBool(e)?n[s]=e=!0:U.isArray(e)&&e.push(M(t,t.value))),r.updateCheckboxChecked(t,e),a.watcher.watch(i,function(e,i){r.updateCheckboxChecked(t,i)},this),this.bindCheckboxEvent(t,n,s,e)},At.bindCheckboxEvent=function(t,e,i,n){it.addEvent(t,"change",function(){var t,s=this.checked,a=M(this,this.value);U.isBool(n)?e[i]=s:U.isArray(n)&&(t=n.indexOf(a),s?-1===t&&n.push(a):-1!==t&&n.splice(t,1))})},At.parseSelect=function(t,e,i,n,s){var a,r,c=this.vm.updater,o=it.hasAttr(t,"multiple");if(U.isString(e)){if(o)return U.warn("<select> cannot be multiple when the model set '"+s+"' as not Array!");a=Boolean(e)}else{if(!U.isArray(e))return U.warn("the model "+s+" use in <select> must be a type of String or Array!");if(!o)return U.warn("the model '"+s+"' cannot set as Array when <select> has no multiple propperty!");a=e.length>0}a?c.updateSelectChecked(t,e,o):(r=P(t),n[s]=o?r:r[0]),this.vm.watcher.watch(i,function(e,i){c.updateSelectChecked(t,i,o)}),this.bindSelectEvent(t,n,s,o)},At.bindSelectEvent=function(t,e,i,n){it.addEvent(t,"change",function(){var t=P(this);e[i]=n?t:t[0]})};var kt=L.prototype;kt.init=function(){this.complieElement(this.$fragment,!0)},kt.complieElement=function(t,e,i){var n,s=this,a=t.childNodes;e&&this.hasDirective(t)&&this.$unCompileNodes.push([t,i]);for(var r=0;r<a.length;r++)n=a[r],s.hasDirective(n)&&s.$unCompileNodes.push([n,i]),n.childNodes.length&&!s.isLateCompile(n)&&s.complieElement(n,!1,i);e&&this.compileAll()},kt.hasDirective=function(t){var e,i=this,n=t.textContent,s=/(\{\{.*\}\})|(\{\{\{.*\}\}\})/;if(this.isElementNode(t)){e=t.attributes;for(var a=0;a<e.length;a++)if(i.isDirective(e[a].name))return!0}else if(this.isTextNode(t)&&s.test(n))return!0},kt.compileAll=function(){U.each(this.$unCompileNodes,function(t){return this.complieDirectives(t),null},this),this.checkCompleted()},kt.complieDirectives=function(t){var e,i,n,s,a=this,r=t[0],c=t[1],o=[];if(this.isElementNode(r)){s=r.attributes;for(var h=0;h<s.length;h++)e=s[h],i=e.name,a.isDirective(i)&&("v-for"===i&&(n=e),o.push(e));n&&(U.def(r,"_vfor_directives",o.length),o=[n],n=null),U.each(o,function(t){this.compile(r,t,c)},this)}else this.isTextNode(r)&&this.compileText(r,c)},kt.compile=function(t,e,i){var n=e.name,s=e.value,a=[i,t,s,n];if(it.removeAttr(t,n),0===n.indexOf("v-bind"))this.vbind.parse.apply(this.vbind,a);else if(0===n.indexOf("v-on"))this.von.parse.apply(this.von,a);else switch(n){case"v-el":this.vel.parse.apply(this.vel,a);break;case"v-text":this.vtext.parse.apply(this.vtext,a);break;case"v-html":this.vhtml.parse.apply(this.vhtml,a);break;case"v-show":this.vshow.parse.apply(this.vshow,a);break;case"v-if":this.vif.parse.apply(this.vif,a);break;case"v-else":U.def(t,"_directive","v-else");break;case"v-model":this.vmodel.parse.apply(this.vmodel,a);break;case"v-for":this.vfor.parse.apply(this.vfor,a);break;case"v-pre":break;default:U.warn(n+" is an unknown directive!")}},kt.compileText=function(t,e){var i,n,s,a,r=[],c=t.textContent.trim().replace(/\n/g,""),o=/\{\{(.+?)\}\}/g,h=/\{\{\{(.+?)\}\}\}/g,u=o.test(c),l=h.test(c);if(l){if(s=c.match(h),n=s[0],i=n.replace(/\s\{|\{|\{|\}|\}|\}/g,""),n.length!==c.length)return U.warn("'"+c+"' compile for HTML can not have a prefix or suffix!");this.vhtml.parse.call(this.vhtml,e,t,i)}else u&&(a=c.split(o),s=c.match(o),U.each(a,function(t){-1!==s.indexOf("{{"+t+"}}")?r.push("("+t+")"):t&&r.push('"'+t+'"')}),this.vtext.parse.call(this.vtext,e,t,r.join("+")))},kt.blockCompile=function(t){U.each(this.$unCompileNodes,function(e){return t===e[0]?null:void 0})},kt.isElementNode=function(t){return 1===t.nodeType},kt.isTextNode=function(t){return 3===t.nodeType},kt.isDirective=function(t){return 0===t.indexOf("v-")},kt.isLateCompile=function(t){return it.hasAttr(t,"v-if")||it.hasAttr(t,"v-for")||it.hasAttr(t,"v-pre")},kt.checkCompleted=function(){0!==this.$unCompileNodes.length||this.$rootComplied||this.rootCompleted()},kt.rootCompleted=function(){this.$rootComplied=!0,this.$element.appendChild(this.$fragment)};var Et=I.prototype;Et.get=function(t){return U.isString(t)?this.$[t]:this.$},Et.getItem=function(t){return U.copy(this.get(t))},Et.set=function(t,e){var i=this.$;U.isString(t)&&(i[t]=e),U.isObject(t)&&U.each(t,function(t,e){i[e]=t})},Et.reset=function(t){var e=this.$,i=this.backup;U.isString(t)?e[t]=i[t]:U.isArray(t)?U.each(t,function(t){e[t]=i[t]}):U.each(e,function(t,n){e[n]=i[n]})},Et.watch=function(t,e,i){this.vm.watcher.watchModel(t,function(t,i,n){e.call(this,t,i,n)},this.context,null,i)};var Nt=Y.extend({init:function(t,e){this._config=this.cover(t,{target:null,tag:"div","class":"",css:null,attr:null,html:"",template:"",tplParam:null,model:null,cbRender:"viewReady"}),this.$=it,this.el=null,this.vm=null,this._ready=!1,U.isFunc(this.beforeRender)&&this.beforeRender(),this.getConfig("template")?this._loadTemplate():this._render()},_loadTemplate:function(){var t=this.getConfig(),e=t.template;K.lock(),z.load(e,t.tplParam,function(t,i){var n;t?(n=t.status+": "+e,U.warn(t)):n=i.result,this.setConfig("html",n),this._render(),K.unlock()},this)},cover:function(t,e){return U.isObject(t)||(t={}),U.isObject(e)||(e={}),U.extend(!0,{},e,t)},getConfig:function(t){return this.config(this._config,t)},setConfig:function(t,e){return this.config(this._config,t,e)},config:function(t,e,i){(U.isString(t)||0===arguments.length)&&(i=e,e=t,t={});var n,s=t,a=i!==n,r=null===i;if(!e)return s;for(var c=e.split("/");c.length>1&&U.hasOwn(s,c[0]);)s=s[c.shift()];return c.length>1?a?!1:r?!0:n:(e=c[0],a?(s[e]=i,!0):r?(s[e]=null,delete s[e],!0):s[e])},_render:function(){if(this._ready)return this;this._ready=!0;var t=this.getConfig(),e=this.el=U.createElement(t.tag),i=t["class"];i&&U.isString(i)&&U.each(i.split(" "),function(t){it.addClass(e,t)}),U.isObject(t.css)&&U.each(t.css,function(t,i){e.style[i]=t}),U.isObject(t.attr)&&U.each(t.attr,function(t,i){it.setAttr(e,i,t)}),t.html&&e.appendChild(U.stringToFragment(t.html));var n=t.model;U.isObject(n)&&(this.vm=new I(e,n,this));var s=t.target;s&&s.appendChild(e);var a=this[t.cbRender];U.isFunc(a)&&a.call(this)},query:function(t){return this.el.querySelector(t)},queryAll:function(t){return this.el.querySelectorAll(t)},bind:function(){return it.addEvent.apply(it,arguments)},unbind:function(){return it.removeEvent.apply(it,arguments)},afterDestroy:function(){var t=this.vm,e=this.el;t&&(t.destroy(),t=null),e&&(e.parentNode.removeChild(e),e=null)}}),jt=new V;return jt});